<section class="container">
  <section class="container">
    <div class="header">
      <div class="icon-back">
        <span routerLink="/home/importWarehouse" nz-icon nzType="left" nzTheme="outline"></span>
      </div>
      <div class="title">
        <span class="title-text">Thêm sản phẩm</span>
      </div>
    </div>
  </section>
  <section class="dflex">
    <div nz-col nzSpan="10" class="center-upload">
      <nz-upload nzName="avatar" nzAction="https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188"
        nzListType="picture-card" [(nzFileList)]="fileList" [nzShowButton]="fileList.length < 1"
        [nzPreview]="handlePreview" style="display: flex; margin-top: 14vw;">
        <div>
          <span class="upload_icon" nz-icon nzType="camera" nzTheme="fill"></span>
        </div>
      </nz-upload>
    </div>
    <div nz-col nzSpan="14" class="center">
      <form nz-form [formGroup]="validateAddProductForm">
        <nz-form-item>
          <nz-form-control [nzSpan]="24" [nzErrorTip]="codeProductValidator" class="margin-tb-quantity">
            <nz-input-group>
              <input class="codeProduct" nz-input formControlName="codeProduct" placeholder="Mã sản phẩm" readonly/>
            </nz-input-group>
            <ng-template #codeProductValidator let-control>
              @if (control.errors?.['required']) {
              Vui lòng nhập mã sản phẩm!
              }
              @if (control.errors?.['confirm']) {
              Mã sản phẩm không hợp lệ!
              }
            </ng-template>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control [nzSpan]="24" [nzErrorTip]="floorPriceValidate" class="margin-tb-quantity">
            <nz-input-group [nzPrefix]="prefixTemplate">
              <input type="number" nz-input formControlName="floorPrice" width="100px" />
            </nz-input-group>
            <ng-template #prefixTemplate>Giá sàn:</ng-template>
            <ng-template #floorPriceValidate let-control>
              @if (control.errors?.['required']) {
              Vui lòng nhập giá sàn!
              }
              @if (control.errors?.['confirm']) {
              Giá sàn không được nhỏ hơn hoặc bằng 0
              }
            </ng-template>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control [nzSpan]="24" [nzErrorTip]="quantityValidator" class="margin-tb-quantity">
            <nz-input-group [nzPrefix]="prefixTemplateQuantity">
              <input type="number" nz-input formControlName="quantityProduct" />
            </nz-input-group>
            <ng-template #prefixTemplateQuantity>
              Số lượng tồn:
            </ng-template>
            <ng-template #quantityValidator let-control>
              @if (control.errors?.['required']) {
              Vui lòng nhập số lượng tồn!
              }
              @if (control.errors?.['confirm']) {
              Số lượng tồn không được nhỏ hơn hoặc bằng 0
              }
            </ng-template>
          </nz-form-control>
        </nz-form-item>
      </form>
      <div class="button">
        <button class="button-upload">Tải ảnh</button>
        <button class="button-camera">Chụp ảnh</button>
      </div>
    </div>
  </section>
  <section class="container">
    <div>
      <form nz-form [formGroup]="validateAddProductForm">
        <div nz-col [nzSpan]="24" class="margin-tb">
          <nz-form-item>
            <nz-form-control [nzSpan]="24" [nzErrorTip]="nameProductValidate">
              <nz-input-group>
                <input class="input" nz-input formControlName="nameProduct" placeholder="Tên SP: (*)"/>
              </nz-input-group>
              <ng-template #nameProductValidate let-control>
                @if (control.errors?.['required']) {
                Vui lòng nhập tên sản phẩm!
                }
                @if (control.errors?.['confirm']) {
                Tên sản phẩm không được dưới 3 hoặc vượt quá 255 ký tự!
                }
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="24" class="margin-tb">
          <div nz-row style="display: flex; justify-content: space-between;">
            <nz-form-item nz-col [nzSpan]="9">
              <nz-form-control [nzErrorTip]="unitValidate">
                <nz-input-group>
                  <input class="input" nz-input formControlName="unit" placeholder="Đơn vị tính: (*)"/>
                </nz-input-group>
                <ng-template #unitValidate let-control>
                  @if (control.errors?.['required']) {
                  Vui lòng nhập đơn vị!
                  }
                  @if (control.errors?.['confirm']) {
                  Đơn vị tính không được dưới 3 hoặc vượt quá 255 ký tự!
                  }
                </ng-template>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item nz-col [nzSpan]="7">
              <nz-form-control [nzErrorTip]="expiredDateValidate">
                <nz-input-group [nzPrefix]="prefixTemplateExpiredDate">
                  <input class="input" nz-input formControlName="expiredDate" placeholder="HSD:"/>
                </nz-input-group>
                <ng-template #prefixTemplateExpiredDate>
                 
                </ng-template>
                <ng-template #expiredDateValidate let-control>
                  @if (control.errors?.['required']) {
                  Vui lòng nhập hạn sử dụng ngăn cách bởi dấu ( / )
                  }
                  @if (control.errors?.['confirm']) {
                  Hạn sử dụng không được dưới 3 hoặc vượt quá 255 ký tự!
                  }
                </ng-template>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item nz-col [nzSpan]="7">
              <nz-form-control [nzErrorTip]="providePriceValidator">
                <nz-input-group [nzPrefix]="prefixTemplateProvidePrice">
                  <input type="number" nz-input formControlName="providePrice" placeholder="Giá cung:"/>
                </nz-input-group>
                <ng-template #prefixTemplateProvidePrice></ng-template>
                <ng-template #providePriceValidator let-control>
                  @if (control.errors?.['required']) {
                  Vui lòng nhập giá cung!
                  }
                  @if (control.errors?.['confirm']) {
                  Giá cung không được nhỏ hơn hoặc bằng 0
                  }
                </ng-template>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
        <div nz-col [nzSpan]="24" class="margin-tb">
          <nz-form-item>
            <nz-form-control [nzSpan]="24" [nzErrorTip]="originValidate">
              <nz-input-group>
                <input class="input" nz-input formControlName="origin" placeholder="Xuất xứ:"/>
              </nz-input-group>
              <ng-template #originValidate let-control>
                @if (control.errors?.['required']) {
                Vui lòng nhập xuất xứ!
                }
                @if (control.errors?.['confirm']) {
                Xuất xứ không được dưới 3 hoặc vượt quá 255 ký tự!
                }
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-row class="margin-tb dflex jct-bw">
            <nz-form-item nz-col [nzSpan]="15">
              <nz-form-control [nzErrorTip]="providerValidate">
                <nz-input-group>
                  <input class="input" nz-input formControlName="provider" placeholder="Nguồn cung:"/>
                </nz-input-group>
                <ng-template #providerValidate let-control>
                  @if (control.errors?.['required']) {
                  Vui lòng nhập nguồn cung!
                  }
                  @if (control.errors?.['confirm']) {
                  Nguồn cung không được dưới 3 hoặc vượt quá 255 ký tự!
                  }
                </ng-template>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item nz-col [nzSpan]="8">
              <nz-form-control [nzErrorTip]="originPhoneNumber">
                <nz-input-group>
                  <input class="input" type="number" inputmode="decimal" nz-input formControlName="phoneNumber" placeholder="SĐT:"/>
                </nz-input-group>
                <ng-template #originPhoneNumber let-control>
                  @if (control.errors?.['required']) {
                  Vui lòng nhập số điện thoại!
                  }
                  @if (control.errors?.['confirm']) {
                  Vui lòng nhập đúng định dạng số điện thoại!
                  }
                </ng-template>
              </nz-form-control>
            </nz-form-item>
          </div>
      </form>
    </div>
    <textarea [(ngModel)]="product.description" class="description" placeholder="Mô tả:"></textarea>
    <div class="center">
      <button class="button-add-product" (click)="handleAddProduct()">Thêm sản phẩm</button>
    </div>
  </section>
</section>